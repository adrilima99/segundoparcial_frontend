import{c as P}from"./chunk-C5J56EWV.js";import{$a as n,Ga as f,Ka as r,La as g,Va as p,Ya as s,ab as i,bb as u,bc as y,cc as F,dc as E,ec as O,fa as m,gb as x,gc as M,mb as o,nb as c,ob as h,vb as _,xb as b,yb as v,zb as C}from"./chunk-RI4DZ32I.js";var w=(e,a)=>({"bg-green-100 text-green-800":e,"bg-red-100 text-red-800":a});function S(e,a){e&1&&(n(0,"div",2),u(1,"div",3),i())}function I(e,a){if(e&1&&(n(0,"tr",11)(1,"td",9),o(2),i(),n(3,"td",9),o(4),i(),n(5,"td",9),o(6),v(7,"date"),i(),n(8,"td",9)(9,"span",12),o(10),i()(),n(11,"td",9)(12,"a",13),o(13," Ver PDF "),i()()()),e&2){let t=a.$implicit,d=a.index;r(2),c(d+1),r(2),c(t.numero_factura),r(2),c(C(7,6,t.fecha_emision,"short")),r(3),s("ngClass",b(9,w,t.enviado_por_correo,!t.enviado_por_correo)),r(),h(" ",t.enviado_por_correo?"S\xED":"No"," "),r(2),s("href",t.archivo_pdf_url,f)}}function D(e,a){if(e&1&&(n(0,"div",4)(1,"h1",5),o(2,"\u{1F9FE} Facturas Emitidas"),i(),n(3,"div",6)(4,"table",7)(5,"thead")(6,"tr",8)(7,"th",9),o(8,"#"),i(),n(9,"th",9),o(10,"N\xFAmero de Factura"),i(),n(11,"th",9),o(12,"Fecha de Emisi\xF3n"),i(),n(13,"th",9),o(14,"Enviado"),i(),n(15,"th",9),o(16,"Acciones"),i()()(),n(17,"tbody"),p(18,I,14,12,"tr",10),i()()()()),e&2){let t=x();r(18),s("ngForOf",t.facturas)}}var z=(()=>{class e{constructor(t){this.http=t,this.facturas=[],this.isLoading=!1}ngOnInit(){this.loadFacturas()}loadFacturas(){this.isLoading=!0,this.http.get("http://137.184.94.190/api/facturas/").subscribe(t=>{this.facturas=t,this.isLoading=!1},t=>{this.isLoading=!1,console.error("Error al cargar facturas:",t)})}static{this.\u0275fac=function(d){return new(d||e)(g(P))}}static{this.\u0275cmp=m({type:e,selectors:[["app-facturas"]],standalone:!0,features:[_],decls:2,vars:2,consts:[["class","spinner-container",4,"ngIf"],["class","container mx-auto px-4 py-8",4,"ngIf"],[1,"spinner-container"],[1,"spinner"],[1,"container","mx-auto","px-4","py-8"],[1,"text-3xl","font-bold","text-purple-900","mb-6"],[1,"overflow-x-auto"],[1,"min-w-full","bg-white","rounded-lg","shadow","text-sm"],[1,"bg-gray-800","text-white","text-left"],[1,"p-3"],["class","hover:bg-gray-50 border-b",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50","border-b"],[1,"px-2","py-1","rounded","text-xs",3,"ngClass"],["target","_blank",1,"px-3","py-1","bg-purple-600","hover:bg-purple-700","text-white","rounded","shadow","transition",3,"href"]],template:function(d,l){d&1&&p(0,S,2,0,"div",0)(1,D,19,1,"div",1),d&2&&(s("ngIf",l.isLoading),r(),s("ngIf",!l.isLoading))},dependencies:[M,y,F,E,O],styles:[".spinner-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000c;display:flex;justify-content:center;align-items:center;z-index:1000}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.3);border-top:4px solid #ffffff;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#343a40;color:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #dee2e6;padding:12px;text-align:left}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f8f9fa}button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;font-weight:700;cursor:pointer;transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{opacity:.9}@media (max-width: 768px){table[_ngcontent-%COMP%]{font-size:14px}button[_ngcontent-%COMP%]{width:100%;margin-top:10px}}"]})}}return e})();export{z as FacturasComponent};
