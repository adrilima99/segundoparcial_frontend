<!-- Fondo completo -->
<div class="min-h-screen bg-gradient-to-br from-gray-100 via-white to-purple-100 dark:from-gray-900 dark:via-gray-800 dark:to-purple-950 p-6 text-gray-900 dark:text-white">
  <div class="container mx-auto">
    <h2 class="text-3xl font-bold mb-6 flex items-center gap-2">
      <img src="https://img.icons8.com/color/48/000000/sales-performance.png" class="w-8 h-8" />
      Productos MÃ¡s Vendidos
    </h2>

    <!-- Filtros -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
      <!-- Fecha inicio -->
      <div>
        <label class="block font-semibold mb-1">ğŸ“… Fecha Inicio</label>
        <input type="date" [(ngModel)]="fechaInicio"
               class="w-full px-4 py-2 rounded-lg bg-white text-black dark:bg-gray-700 dark:text-white" />
      </div>

      <!-- Fecha fin -->
      <div>
        <label class="block font-semibold mb-1">ğŸ“… Fecha Fin</label>
        <input type="date" [(ngModel)]="fechaFin"
               class="w-full px-4 py-2 rounded-lg bg-white text-black dark:bg-gray-700 dark:text-white" />
      </div>

      <!-- CategorÃ­a -->
      <div>
        <label class="block font-semibold mb-1">ğŸ“ CategorÃ­a</label>
        <select [(ngModel)]="categoriaId"
                (change)="onCategoriaChange()"
                class="w-full px-4 py-2 rounded-lg bg-white text-black dark:bg-gray-700 dark:text-white">
          <option [ngValue]="null">Todas</option>
          <option *ngFor="let cat of categorias" [ngValue]="cat.id">
            {{ cat.nombre }}
          </option>
        </select>
      </div>

      <!-- SubcategorÃ­a -->
      <div>
        <label class="block font-semibold mb-1">ğŸ“‚ SubcategorÃ­a</label>
        <select [(ngModel)]="subcategoriaId"
                [disabled]="!categoriaId || subcategorias.length === 0"
                class="w-full px-4 py-2 rounded-lg bg-white text-black dark:bg-gray-700 dark:text-white">
          <option [ngValue]="null">Todas</option>
          <option *ngFor="let sub of subcategorias" [ngValue]="sub.id">
            {{ sub.nombre }}
          </option>
        </select>
      </div>


      <!-- Marca -->
      <div>
        <label class="block font-semibold mb-1">ğŸ·ï¸ Marca</label>
        <select [(ngModel)]="marcaId"
                class="w-full px-4 py-2 rounded-lg bg-white text-black dark:bg-gray-700 dark:text-white">
          <option [ngValue]="null">Todas</option>
          <option *ngFor="let marca of marcas" [ngValue]="marca.id">
            {{ marca.nombre }}
          </option>
        </select>
      </div>

      <!-- Formato -->
      <div>
        <label class="block font-semibold mb-1">ğŸ“‚ Formato</label>
        <select [(ngModel)]="formato"
                class="w-full px-4 py-2 rounded-lg bg-white text-black dark:bg-gray-700 dark:text-white">
          <option value="pdf">ğŸ“„ PDF</option>
          <option value="excel">ğŸ“Š Excel</option>
        </select>
      </div>
    </div>

    <!-- BotÃ³n generar -->
    <button (click)="generarReporte()" [disabled]="isLoading"
            class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg shadow font-bold transition">
      âš™ï¸ {{ isLoading ? 'Generando...' : 'Generar Reporte' }}
    </button>
  </div>
</div>
